\documentclass[12pt]{article}
\usepackage{geometry}
\geometry{a4paper, total={170mm,257mm},left=20mm, top=20mm, }
\usepackage[colorlinks=true,linkcolor=blue,urlcolor=black]{hyperref}
\usepackage{bookmark}
\usepackage[autostyle, english = american]{csquotes}
\usepackage{appendix}
\begin{document}
\title {Labtainer Instructor Guide\vspace{-4ex}}
\maketitle

\section {Introduction}
This manual is intended for use by instructors who assign and/or grade
labs using Labtainers.
Labtainers assume you have a Linux system, e.g., a virtual machine (VM).  
The easiest path is to use our pre-built VM available at the Labtainer
website \url{https://my.nps.edu/web/c3o/virtual-machine-images}.
Alternately, refer to
in Appendix A of the \underline{Labtainer Student Guide} for installation of VirtualBox 
and a Linux system.
Note that any Linux system can be used as long as it supports Docker.
If Labtainers is to be used on a Linux system other than the pre-built VM,
refer to the \underline{Labtainer Student Guide} for information on
installing Labtainers.

Labtainers provide a consistent execution environment for performing
laboratory exercises, and can include execution of several different
computers interconnected via virtual networks.  Refer to our published
papers at \url{https://my.nps.edu/web/c3o/labtainers} for additional information
on the use of Labtainers.  And see the \underline{Lab Designer User Guide}"
at \url{https://my.nps.edu/documents/107523844/109121513/labdesigner.pdf} for 
information on creating and maintaining Labtainer exercises.

\subsection{Assigning a Lab}
Student instructions for using Labtainers are in the \underline{Labtainer Student Guide}.  
Students work from the {\tt labtainer-student} directory, i.e.,
\begin{verbatim}
    cd ~/labtainer/trunk/scripts/labtainer-student
\end{verbatim}
Available labs are listed via the {\tt labtainer} script:
\begin{verbatim}
    labtainer
\end{verbatim}
\noindent Start a lab by providing its name as an argument to the {\tt labtainer} command.
This will typically display a link to a lab manual, or will display a lab manual in one of
the resulting virtual terminals.  You can interact with the resulting computers just as a
student would.

\subsection{Assessing a Lab}
When the student stops a lab, i.e., using {\tt stoplab}, Labtainers creates a zip file of
student artifacts (including lab reports) and then displays the path to this zip file to
the student.  The easiest way for the student to forward this zip file to you is by starting
a browser on the Linux VM and either emailing you the zip file, or uploading the file
into an LMS, (e.g., Sakai).  Alternately, the student can define a shared folder in the VM
and copy the zip to the host computer.

Collect all of the lab zip files from each student into your Labtainer transfer directory, which
is typically at
\begin{verbatim}
    ~/labtainer_xfer/<labname>
\end{verbatim}
\noindent where labname is the name of the lab.  Do not unzip the files.  Alternately student
assignments can be bulk-collected from a learning management system (LMS) per Appendix \ref{lms collection}
and the resulting zip  would be copied into the
Labtainer transfer directory.  Again, do not unzip files and do not change the file names of zip files.

Instructor assessment of labs takes place from the {\tt labtainer-instructor} directory, i.e.,
\begin{verbatim}
    cd ~/labtainer/trunk/scripts/labtainer-instructor
\end{verbatim}

\noindent Use the {\tt gradelab} command to assess results for a given lab:
\begin{verbatim}
    gradelab <labname>
\end{verbatim}
\noindent A table of lab results with one row per student and
a column for each goal will be displayed.  A description of the goals follows the table.

Student reports (if any) are  copied into 
\begin{verbatim}
    ~/labtainer_xfer/<labname>/docs
\end{verbatim}
\noindent on the Linux host.  If LMS assignment collection is used, then student reports should
be looked for in 
\begin{verbatim}
    ~/labtainer_xfer/<labname>/reports
\end{verbatim}
\noindent which also includes reports separately uploaded into the LMS.

\subsubsection{Review artifact details}
You can view all student results, including their original artifacts by using the {\tt -d} flag
with the {\tt gradelab} command.  This results in a virtual terminal connected to a grading
container that contains all student artifacts and results.  Student artifacts are found in 
\begin{verbatim}
<student email>/<lab>.<container>.student/.local/result
\end{verbatim}

\noindent The {\tt -d} option is also used when debugging automated assessment configuration
files.  You can create additional virtual terminals into the grading container by reissuing
the gradelab command with the {\tt -a} flag.  When you are finished, or wish to stop working, type:
\begin{verbatim}
    stopgrader
\end{verbatim}

\newpage
\appendix
\section{\\LMS Assignment Collection}
\label{lms collection}
\subsection{Sakai}
In the Sakai Assignments section, select the ``In / New'' entry for the appropriate assignment.
The resulting page should enumerate each student who has submitted an assignment.  In the upper right,
click the ``Download All'' link, and then click the ``Student submission attachment(s)'' option and
click the ``Download'' button.  Copy the resulting zip into the lab transfer directory 
on the Linux host, i.e.,
\begin{verbatim}
    ~/labtainer_xfer/<labname>
\end{verbatim}
\noindent Do not unzip the file and do not change its file name.
You can then run the {\tt gradelab <labname>} command from the {\tt labtainer-instructor} directory.
In addition to the assessment summary, any student lab reports will be available in:
\begin{verbatim}
   ~/labtainer_xfer/<labname>/reports/<student name> 
\end{verbatim}
\noindent Those reports will include any that the student separately uploaded into Sakai (it is 
important to remind students to NOT change the name of lab report documents.)
\end{document}
